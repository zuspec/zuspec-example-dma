# Project Dependencies Catalog

This document catalogs all dependencies for the zuspec-example-dma project.

## Dependency Management

This project uses **IVPM** (Integrated Verilog Package Manager) for dependency management. Dependencies are defined in `ivpm.yaml`.

## Direct Dependencies

### Documentation Dependencies (PyPI)

1. **sphinx** 
   - Source: PyPI
   - Purpose: Documentation generation framework
   - Used for: Building HTML and other documentation formats

2. **sphinxcontrib-mermaid**
   - Source: PyPI
   - Purpose: Mermaid diagram support for Sphinx
   - Used for: Generating sequence, state, flowchart, and gantt diagrams in documentation

3. **myst-parser**
   - Source: PyPI
   - Purpose: Markdown support for Sphinx
   - Used for: Writing documentation in Markdown format instead of reStructuredText

### Zuspec Framework

4. **zuspec**
   - Source: Git repository (https://github.com/zuspec/zuspec.git)
   - Purpose: Python-based multi-abstraction framework for hardware modeling
   - Description: Provides tools for hardware design specification and verification
   - Related Projects:
     - `zuspec-be-sv`: SystemVerilog backend for generating synthesizable RTL
     - `zuspec-dataclasses`: Python dataclass-based modeling support
     - `zuspec-parser`: PSS (Portable Stimulus Standard) parsing capabilities
     - `zuspec-arl-eval`: Action/Resource Layer evaluation

## Transitive Dependencies

The zuspec framework has its own set of dependencies which may include:

### Expected Zuspec Dependencies
- **vsc-dataclasses**: Verification Stimulus and Coverage dataclasses
- **vsc-dm**: Data model support
- **debug-mgr**: Debug management utilities
- **pytypeworks**: Python type system utilities

### Potential Optional Dependencies
- **svdep**: SystemVerilog dependency management tool
  - Source: PyPI (https://pypi.org/project/svdep/)
  - Purpose: Tracks SystemVerilog file dependencies for incremental builds
  - Relationship: Can be used to manage SV files generated by zuspec-be-sv
  - Status: ⚠️ **Not automatically installed with zuspec**
  - Installation: `pip install svdep` (if needed for SV dependency tracking)

## Development Environment

- **Python Version**: 3.8+ required
- **Package Manager**: IVPM v2.3.0+
- **Virtual Environment**: Created in `./packages/python/`

## Installing Dependencies

To install all dependencies:

```bash
# Install ivpm if not already installed
pip install ivpm

# Update dependencies from ivpm.yaml
ivpm update
```

## Checking for svdep

svdep is an optional dependency that is not automatically installed with zuspec. To check if svdep is available:

```bash
# Check if svdep is installed
python -c "import svdep; print(f'svdep version: {svdep.__version__}')" 2>/dev/null || echo "svdep is not installed"

# Or use pip
pip show svdep

# Or check in the ivpm-managed virtual environment
./packages/python/bin/pip show svdep
```

To install svdep if needed:

```bash
pip install svdep
# Or in the ivpm virtual environment
./packages/python/bin/pip install svdep
```

## Dependency Tree

```
zuspec-example-dma/
├── Documentation Tools (direct)
│   ├── sphinx (PyPI)
│   ├── sphinxcontrib-mermaid (PyPI)
│   └── myst-parser (PyPI)
└── Hardware Modeling Framework (direct)
    └── zuspec (Git)
        ├── zuspec-be-sv (transitive)
        ├── zuspec-dataclasses (transitive)
        ├── zuspec-parser (transitive)
        ├── zuspec-arl-eval (transitive)
        ├── vsc-dataclasses (transitive)
        ├── vsc-dm (transitive)
        ├── debug-mgr (transitive)
        └── pytypeworks (transitive)
    
Optional/External:
└── svdep (NOT included - manual installation required)
```

## Notes

- **ivpm** manages dependencies in a centralized `./packages/` directory
- Python packages are installed in `./packages/python/`
- Activating the environment: Use `ivpm activate` or directly use `./packages/python/bin/python`
- **svdep** is a separate tool for SystemVerilog dependency tracking and is not part of the standard zuspec installation
- If you need to track dependencies for SystemVerilog files generated by zuspec, install svdep separately

## Updating Dependencies

To update to the latest versions:

```bash
ivpm update --force-py-install
```

To sync with upstream repositories (for Git dependencies):

```bash
ivpm sync
```

## Verification

To verify all dependencies are correctly installed:

```bash
# Check Python packages in ivpm environment
./packages/python/bin/pip list

# Check for specific packages
./packages/python/bin/python -c "import sphinx; import myst_parser; import zuspec; print('All core dependencies available')"
```

## Additional Resources

- IVPM Documentation: https://github.com/fvutils/ivpm
- Zuspec Documentation: https://zuspec.github.io/
- svdep Repository: https://github.com/fvutils/svdep
- svdep on PyPI: https://pypi.org/project/svdep/
